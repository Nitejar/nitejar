// Database connection
export { getDb, closeDb, getDatabaseType, type DatabaseType } from './db'

// Type exports
export {
  type Database,
  type Integration,
  type PluginInstanceRecord,
  type NewIntegration,
  type IntegrationUpdate,
  type PluginInstance,
  type NewPluginInstance,
  type PluginInstanceUpdate,
  type Plugin,
  type NewPlugin,
  type PluginUpdate,
  type PluginVersion,
  type NewPluginVersion,
  type PluginVersionUpdate,
  type PluginDisclosureAck,
  type NewPluginDisclosureAck,
  type PluginDisclosureAckUpdate,
  type PluginEvent,
  type NewPluginEvent,
  type PluginEventUpdate,
  type PluginArtifact,
  type NewPluginArtifact,
  type GatewaySettings,
  type NewGatewaySettings,
  type GatewaySettingsUpdate,
  type AuthSignupSettings,
  type NewAuthSignupSettings,
  type AuthSignupSettingsUpdate,
  type ModelCatalog,
  type NewModelCatalog,
  type ModelCatalogUpdate,
  type GithubInstallation,
  type NewGithubInstallation,
  type GithubInstallationUpdate,
  type GithubRepo,
  type NewGithubRepo,
  type GithubRepoUpdate,
  type AgentRepoCapability,
  type NewAgentRepoCapability,
  type AgentRepoCapabilityUpdate,
  type AuditLog,
  type NewAuditLog,
  type Agent,
  type NewAgent,
  type AgentUpdate,
  type AgentSandbox,
  type NewAgentSandbox,
  type AgentSandboxUpdate,
  type AgentPluginInstance,
  type NewAgentPluginInstance,
  type AgentMemory,
  type NewAgentMemory,
  type AgentMemoryUpdate,
  type User,
  type NewUser,
  type UserUpdate,
  type AuthSession,
  type NewAuthSession,
  type AuthSessionUpdate,
  type Account,
  type NewAccount,
  type AccountUpdate,
  type Verification,
  type NewVerification,
  type VerificationUpdate,
  type OAuthApplication,
  type NewOAuthApplication,
  type OAuthApplicationUpdate,
  type OAuthAccessToken,
  type NewOAuthAccessToken,
  type OAuthAccessTokenUpdate,
  type OAuthConsent,
  type NewOAuthConsent,
  type OAuthConsentUpdate,
  type Invitation,
  type NewInvitation,
  type InvitationUpdate,
  type Team,
  type NewTeam,
  type TeamUpdate,
  type TeamMember,
  type NewTeamMember,
  type TeamMemberUpdate,
  type AgentTeam,
  type NewAgentTeam,
  type AgentTeamUpdate,
  type Collection,
  type NewCollection,
  type CollectionUpdate,
  type CollectionRow,
  type NewCollectionRow,
  type CollectionRowUpdate,
  type CollectionPermission,
  type NewCollectionPermission,
  type CollectionPermissionUpdate,
  type CollectionSchemaReview,
  type NewCollectionSchemaReview,
  type CollectionSchemaReviewUpdate,
  type AppSession,
  type NewAppSession,
  type AppSessionUpdate,
  type AppSessionParticipant,
  type NewAppSessionParticipant,
  type AppSessionParticipantUpdate,
  type WorkItem,
  type NewWorkItem,
  type WorkItemUpdate,
  type Job,
  type NewJob,
  type JobUpdate,
  type Message,
  type NewMessage,
  type IdempotencyKey,
  type NewIdempotencyKey,
  type SessionSummary,
  type NewSessionSummary,
  type SessionSummaryUpdate,
  type SpriteSession,
  type NewSpriteSession,
  type SpriteSessionUpdate,
  type ScheduledItem,
  type NewScheduledItem,
  type ScheduledItemUpdate,
  type Routine,
  type NewRoutine,
  type RoutineUpdate,
  type RoutineRun,
  type NewRoutineRun,
  type RoutineRunUpdate,
  type RoutineEventQueueItem,
  type NewRoutineEventQueueItem,
  type RoutineEventQueueUpdate,
  type QueueLane,
  type NewQueueLane,
  type QueueLaneUpdate,
  type QueueMessage,
  type NewQueueMessage,
  type QueueMessageUpdate,
  type RunDispatch,
  type NewRunDispatch,
  type RunDispatchUpdate,
  type EffectOutbox,
  type NewEffectOutbox,
  type EffectOutboxUpdate,
  type PassiveMemoryQueue,
  type NewPassiveMemoryQueue,
  type PassiveMemoryQueueUpdate,
  type RuntimeControl,
  type NewRuntimeControl,
  type RuntimeControlUpdate,
  type BackgroundTask,
  type NewBackgroundTask,
  type BackgroundTaskUpdate,
  type ModelCallPayload,
  type NewModelCallPayload,
  type ModelCallPayloadUpdate,
  type CapabilitySetting,
  type NewCapabilitySetting,
  type CapabilitySettingUpdate,
  type Credential,
  type NewCredential,
  type CredentialUpdate,
  type AgentCredential,
  type NewAgentCredential,
  type ExternalApiCall,
  type NewExternalApiCall,
  type MediaArtifact,
  type NewMediaArtifact,
  type MediaArtifactUpdate,
  type MediaArtifactBlob,
  type NewMediaArtifactBlob,
  type MediaArtifactBlobUpdate,
  type MediaArtifactDelivery,
  type NewMediaArtifactDelivery,
  type MediaArtifactDeliveryUpdate,
  type ActivityLogEntry,
  type NewActivityLogEntry,
  type ActivityLogStatus,
  type AgentMessage,
  type NewAgentMessage,
  type Skill,
  type NewSkill,
  type SkillUpdate,
  type SkillFile,
  type NewSkillFile,
  type SkillFileUpdate,
  type SkillAssignment,
  type NewSkillAssignment,
  type SkillAssignmentUpdate,
  type Rubric,
  type NewRubric,
  type RubricUpdate,
  type Evaluator,
  type NewEvaluator,
  type EvaluatorUpdate,
  type AgentEvaluator,
  type NewAgentEvaluator,
  type AgentEvaluatorUpdate,
  type EvalRun,
  type NewEvalRun,
  type EvalRunUpdate,
  type EvalResult,
  type NewEvalResult,
  type ImprovementSuggestion,
  type NewImprovementSuggestion,
  type ImprovementSuggestionUpdate,
  type EvalSettings,
  type EvalSettingsUpdate,
} from './types'

// Repository functions
export * from './repositories'
export * from './passive-memory-turns'

// Encryption helpers
export {
  encrypt,
  decrypt,
  isEncrypted,
  encryptConfig,
  decryptConfig,
  generateEncryptionKey,
} from './encryption'

// Legacy exports for backwards compatibility (to be removed later)
export { PostgresWorkItemStore } from './work-item-store'
export { checkIdempotencyKey, recordIdempotencyKey, type IdempotencyResult } from './idempotency'
