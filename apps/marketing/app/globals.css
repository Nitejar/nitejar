@import 'tailwindcss';

@theme inline {
  /* Night palette */
  --color-night-950: oklch(0.1 0.02 260);
  --color-night-900: oklch(0.13 0.02 260);
  --color-night-800: oklch(0.17 0.025 260);
  --color-night-700: oklch(0.22 0.03 260);
  --color-night-600: oklch(0.45 0.03 260);

  /* Gold */
  --color-gold-500: oklch(0.75 0.15 75);
  --color-gold-400: oklch(0.82 0.13 75);
  --color-gold-300: oklch(0.88 0.1 80);

  /* Moon (warm whites) */
  --color-moon-100: oklch(0.95 0.01 80);
  --color-moon-200: oklch(0.8 0.02 80);

  /* Ember accent */
  --color-ember-500: oklch(0.65 0.2 35);

  /* Fonts */
  --font-display: var(--font-instrument-serif);
  --font-body: var(--font-inter);
  --font-mono: var(--font-geist-mono);
}

@layer base {
  * {
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-night-950 text-moon-100 antialiased;
    font-family: var(--font-body), ui-sans-serif, system-ui, sans-serif;
  }

  ::selection {
    background: oklch(0.75 0.15 75 / 0.3);
    color: oklch(0.95 0.01 80);
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .gold-glow {
    box-shadow:
      0 0 40px oklch(0.75 0.15 75 / 0.15),
      0 0 80px oklch(0.75 0.15 75 / 0.05);
  }

  .gold-text-glow {
    text-shadow: 0 0 30px oklch(0.75 0.15 75 / 0.3);
  }

  /* Metallic shimmer card — mouse-tracking gold spotlight + border glow */
  .card-surface {
    position: relative;
    --mouse-x: 50%;
    --mouse-y: 50%;
    transition:
      background-color 0.2s ease,
      border-color 0.2s ease,
      box-shadow 0.3s ease;
  }

  /* Border glow — gradient masked to only the 1px border strip */
  .card-surface::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
    background: radial-gradient(
      400px circle at var(--mouse-x) var(--mouse-y),
      oklch(0.75 0.15 75 / 0.5) 0%,
      oklch(0.75 0.15 75 / 0.15) 25%,
      transparent 45%
    );
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }

  /* Surface shimmer — gold highlight on the card face */
  .card-surface::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
    background: radial-gradient(
      500px circle at var(--mouse-x) var(--mouse-y),
      oklch(0.75 0.15 75 / 0.08) 0%,
      oklch(0.75 0.15 75 / 0.02) 25%,
      transparent 50%
    );
  }

  /* Show shimmer on direct hover (standalone cards) */
  .card-surface:hover::before,
  .card-surface:hover::after {
    opacity: 1;
  }

  .card-surface:hover {
    box-shadow: 0 4px 30px -4px oklch(0.75 0.15 75 / 0.06);
  }

  /* Show shimmer on all cards when the grid container is hovered */
  .card-grid:hover .card-surface::before,
  .card-grid:hover .card-surface::after {
    opacity: 1;
  }

  /* Dark text halo for legibility over bright landscape */
  .text-halo {
    text-shadow:
      0 0 20px oklch(0.1 0.02 260),
      0 0 40px oklch(0.1 0.02 260),
      0 2px 8px oklch(0.1 0.02 260 / 0.8);
  }

  .text-halo-strong {
    text-shadow:
      0 0 8px oklch(0.1 0.02 260),
      0 0 16px oklch(0.1 0.02 260),
      0 0 32px oklch(0.1 0.02 260),
      0 0 48px oklch(0.1 0.02 260);
  }

  /* Embossed panel — raised ridge (speedhump) border around dark faux-UI cards */
  .panel-embossed-subtle {
    border: none;
    box-shadow:
      0 0 0 1px oklch(0.15 0.02 260),
      0 0 0 2px oklch(0.25 0.02 260),
      inset 0 0 0 1px oklch(0.12 0.02 260);
  }

  .panel-embossed {
    border: none;
    box-shadow:
      /* outer dark edge */
      0 0 0 1px oklch(0.1 0.02 260),
      /* outer slope — getting lighter */ 0 0 0 2px oklch(0.2 0.02 260),
      /* ridge peak — brightest */ 0 0 0 3.5px oklch(0.38 0.02 260),
      /* inner slope — getting darker again */ 0 0 0 5px oklch(0.2 0.02 260),
      /* inner dark edge */ inset 0 0 0 1px oklch(0.1 0.02 260);
    transition:
      box-shadow 0.3s ease,
      transform 0.3s ease;
  }

  .panel-embossed:hover {
    transform: translateY(-2px);
    box-shadow:
      /* outer dark edge */
      0 0 0 1px oklch(0.12 0.03 80),
      /* outer slope — gold tint */ 0 0 0 2px oklch(0.25 0.04 80),
      /* ridge peak — gold highlight */ 0 0 0 3.5px oklch(0.5 0.08 80),
      /* inner slope */ 0 0 0 5px oklch(0.25 0.04 80),
      /* inner dark edge */ inset 0 0 0 1px oklch(0.12 0.03 80),
      /* lift shadow */ 0 8px 24px oklch(0 0 0 / 0.4);
  }

  /* Landscape image mask — fades top ~30% to transparent so stars show through */
  .landscape-mask {
    -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 25%);
    mask-image: linear-gradient(to bottom, transparent 0%, black 25%);
  }
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
